"use strict";(self.webpackChunkaccountancy=self.webpackChunkaccountancy||[]).push([[30],{3030:(z,g,a)=>{a.r(g),a.d(g,{AccountancyInvoicesFeatureModule:()=>Q});var c=a(6814),A=a(3708),M=a(9376),t=a(5879),l=a(6605),r=a(9397),u=a(4664),S=a(9862);let h=(()=>{class e{constructor(n){this.httpClient=n}getAmountByCompanyId(n){return this.httpClient.get("api/accountancy/invoice/company/"+n+"/amount")}getClientsByCompanyId(n){return this.httpClient.get("api/accountancy/invoice/company/"+n+"/clients")}getDaysByCompanyId(n){return this.httpClient.get("api/accountancy/invoice/company/"+n+"/days")}getInvoicesByCompanyId(n){return this.httpClient.get("api/accountancy/invoice/company/"+n+"/invoices")}getMoneyByCompanyId(n){return this.httpClient.get("api/accountancy/invoice/company/"+n+"/money")}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(S.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),m=(()=>{class e extends l.m1{constructor(n){super({amount:null,isLoading:!0}),this.invoiceService=n,this.amount$=this.select(i=>i.amount),this.isLoading$=this.select(i=>i.isLoading),this.fetchAmount=this.effect(i=>i.pipe((0,r.b)(()=>this.patchState({isLoading:!0})),(0,u.w)(s=>this.invoiceService.getAmountByCompanyId(s)),(0,r.b)(s=>this.setAmount(s)))),this.setAmount=this.updater((i,s)=>({...i,amount:s,isLoading:!1}))}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(h))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})(),f=(()=>{class e extends l.m1{constructor(n){super({clients:null,isLoading:!0}),this.invoiceService=n,this.clients$=this.select(i=>i.clients),this.isLoading$=this.select(i=>i.isLoading),this.fetchClients=this.effect(i=>i.pipe((0,r.b)(()=>this.patchState({isLoading:!0})),(0,u.w)(s=>this.invoiceService.getClientsByCompanyId(s)),(0,r.b)(s=>this.setClients(s)))),this.setClients=this.updater((i,s)=>({...i,clients:s,isLoading:!1}))}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(h))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})(),C=(()=>{class e extends l.m1{constructor(n){super({days:null,isLoading:!0}),this.invoiceService=n,this.days$=this.select(i=>i.days),this.isLoading$=this.select(i=>i.isLoading),this.fetchDays=this.effect(i=>i.pipe((0,r.b)(()=>this.patchState({isLoading:!0})),(0,u.w)(s=>this.invoiceService.getDaysByCompanyId(s)),(0,r.b)(s=>this.setDays(s)))),this.setDays=this.updater((i,s)=>({...i,days:s,isLoading:!1}))}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(h))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})(),I=(()=>{class e extends l.m1{constructor(n){super({invoices:[],isLoading:!0}),this.invoiceService=n,this.invoices$=this.select(i=>i.invoices),this.isLoading$=this.select(i=>i.isLoading),this.fetchInvoices=this.effect(i=>i.pipe((0,r.b)(()=>this.patchState({isLoading:!0})),(0,u.w)(s=>this.invoiceService.getInvoicesByCompanyId(s)),(0,r.b)(s=>this.setInvoices(s)))),this.setInvoices=this.updater((i,s)=>({...i,invoices:s,isLoading:!1}))}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(h))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})(),L=(()=>{class e extends l.m1{constructor(n){super({money:null,isLoading:!0}),this.invoiceService=n,this.money$=this.select(i=>i.money),this.isLoading$=this.select(i=>i.isLoading),this.fetchMoney=this.effect(i=>i.pipe((0,r.b)(()=>this.patchState({isLoading:!0})),(0,u.w)(s=>this.invoiceService.getMoneyByCompanyId(s)),(0,r.b)(s=>this.setMoney(s)))),this.setMoney=this.updater((i,s)=>({...i,money:s,isLoading:!1}))}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(h))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})();var y=a(9282),p=a(2181),v=a(4221),d=a(2200);function $(e,o){if(1&e&&(t.TgZ(0,"div")(1,"h2"),t._uU(2),t.ALo(3,"number"),t.qZA()()),2&e){const n=o.ngIf;t.xp6(2),t.hij(" ",t.lcZ(3,1,n.value)," ")}}let Z=(()=>{class e{constructor(n,i){this.invoiceAmountStore=n,this.store=i,this.amount$=this.invoiceAmountStore.amount$,this.isLoading$=this.invoiceAmountStore.isLoading$}ngOnInit(){this.store.select(y.s6).pipe((0,p.h)(n=>!!n),(0,r.b)(n=>this.invoiceAmountStore.fetchAmount(n.id))).subscribe()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(m),t.Y36(v.yh))},e.\u0275cmp=t.Xpm({type:e,selectors:[["accountancy-invoices-amount"]],features:[t._Bn([m])],decls:4,vars:6,consts:[["title","Invoices to pay","color","primary",3,"loading"],[4,"ngIf"]],template:function(n,i){1&n&&(t.TgZ(0,"ui-card",0),t.ALo(1,"async"),t.YNc(2,$,4,3,"div",1),t.ALo(3,"async"),t.qZA()),2&n&&(t.Q6J("loading",!!t.lcZ(1,2,i.isLoading$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(3,4,i.amount$)))},dependencies:[c.O5,d.A,c.Ov,c.JJ],styles:["div[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;justify-content:center;align-items:center}div[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:50px;margin:0}"]}),e})();function P(e,o){if(1&e&&(t.TgZ(0,"div")(1,"h2"),t._uU(2),t.ALo(3,"number"),t.qZA()()),2&e){const n=o.ngIf;t.xp6(2),t.hij(" ",t.lcZ(3,1,n.value)," ")}}let x=(()=>{class e{constructor(n,i){this.invoiceClientsStore=n,this.store=i,this.clients$=this.invoiceClientsStore.clients$,this.isLoading$=this.invoiceClientsStore.isLoading$}ngOnInit(){this.store.select(y.s6).pipe((0,p.h)(n=>!!n),(0,r.b)(n=>this.invoiceClientsStore.fetchClients(n.id))).subscribe()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(f),t.Y36(v.yh))},e.\u0275cmp=t.Xpm({type:e,selectors:[["accountancy-invoices-clients"]],features:[t._Bn([f])],decls:4,vars:6,consts:[["title","Clients",3,"loading"],[4,"ngIf"]],template:function(n,i){1&n&&(t.TgZ(0,"ui-card",0),t.ALo(1,"async"),t.YNc(2,P,4,3,"div",1),t.ALo(3,"async"),t.qZA()),2&n&&(t.Q6J("loading",!!t.lcZ(1,2,i.isLoading$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(3,4,i.clients$)))},dependencies:[c.O5,d.A,c.Ov,c.JJ],styles:["div[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;justify-content:center;align-items:center}div[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:50px;margin:0}"]}),e})();function T(e,o){if(1&e&&(t.TgZ(0,"div")(1,"h2"),t._uU(2),t.ALo(3,"number"),t.qZA()()),2&e){const n=o.ngIf;t.xp6(2),t.hij(" ",t.lcZ(3,1,n.value)," ")}}let _=(()=>{class e{constructor(n,i){this.invoiceDaysStore=n,this.store=i,this.days$=this.invoiceDaysStore.days$,this.isLoading$=this.invoiceDaysStore.isLoading$}ngOnInit(){this.store.select(y.s6).pipe((0,p.h)(n=>!!n),(0,r.b)(n=>this.invoiceDaysStore.fetchDays(n.id))).subscribe()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(C),t.Y36(v.yh))},e.\u0275cmp=t.Xpm({type:e,selectors:[["accountancy-invoices-days"]],features:[t._Bn([C])],decls:4,vars:6,consts:[["title","Days left","color","secondary",3,"loading"],[4,"ngIf"]],template:function(n,i){1&n&&(t.TgZ(0,"ui-card",0),t.ALo(1,"async"),t.YNc(2,T,4,3,"div",1),t.ALo(3,"async"),t.qZA()),2&n&&(t.Q6J("loading",!!t.lcZ(1,2,i.isLoading$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(3,4,i.days$)))},dependencies:[c.O5,d.A,c.Ov,c.JJ],styles:["div[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;justify-content:center;align-items:center}div[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:50px;margin:0}"]}),e})();var F=a(7181);function D(e,o){if(1&e&&(t._UZ(0,"ui-list-item",3),t.ALo(1,"number")),2&e){const n=o.$implicit;t.Q6J("label",n.description)("hint",n.company)("icon","PAID"===n.status?"check":"attach_money")("color","PAID"===n.status?"tertiary":"secondary")("rightText",t.lcZ(1,5,n.amount)+"$")}}function J(e,o){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,D,2,7,"ui-list-item",2),t.qZA()),2&e){const n=o.ngIf;t.xp6(1),t.Q6J("ngForOf",n)}}let Y=(()=>{class e{constructor(n,i){this.invoiceListStore=n,this.store=i,this.invoices$=this.invoiceListStore.invoices$,this.isLoading$=this.invoiceListStore.isLoading$}ngOnInit(){this.store.select(y.s6).pipe((0,p.h)(n=>!!n),(0,r.b)(n=>this.invoiceListStore.fetchInvoices(n.id))).subscribe()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(I),t.Y36(v.yh))},e.\u0275cmp=t.Xpm({type:e,selectors:[["accountancy-invoices-list"]],features:[t._Bn([I])],decls:4,vars:6,consts:[["title","Invoices",3,"loading"],[4,"ngIf"],[3,"label","hint","icon","color","rightText",4,"ngFor","ngForOf"],[3,"label","hint","icon","color","rightText"]],template:function(n,i){1&n&&(t.TgZ(0,"ui-card",0),t.ALo(1,"async"),t.YNc(2,J,2,1,"div",1),t.ALo(3,"async"),t.qZA()),2&n&&(t.Q6J("loading",!!t.lcZ(1,2,i.isLoading$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(3,4,i.invoices$)))},dependencies:[c.sg,c.O5,d.A,F.G,c.Ov,c.JJ],styles:["div[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;gap:10px}"]}),e})();function b(e,o){if(1&e&&(t.TgZ(0,"div")(1,"h2"),t._uU(2),t.ALo(3,"number"),t.qZA()()),2&e){const n=o.ngIf;t.xp6(2),t.hij(" ",t.lcZ(3,1,n.value),"$ ")}}let w=(()=>{class e{constructor(n,i){this.invoiceMoneyStore=n,this.store=i,this.money$=this.invoiceMoneyStore.money$,this.isLoading$=this.invoiceMoneyStore.isLoading$}ngOnInit(){this.store.select(y.s6).pipe((0,p.h)(n=>!!n),(0,r.b)(n=>this.invoiceMoneyStore.fetchMoney(n.id))).subscribe()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(L),t.Y36(v.yh))},e.\u0275cmp=t.Xpm({type:e,selectors:[["accountancy-invoices-money"]],features:[t._Bn([L])],decls:4,vars:6,consts:[["title","Money to pay",3,"loading"],[4,"ngIf"]],template:function(n,i){1&n&&(t.TgZ(0,"ui-card",0),t.ALo(1,"async"),t.YNc(2,b,4,3,"div",1),t.ALo(3,"async"),t.qZA()),2&n&&(t.Q6J("loading",!!t.lcZ(1,2,i.isLoading$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(3,4,i.money$)))},dependencies:[c.O5,d.A,c.Ov,c.JJ],styles:["div[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;justify-content:center;align-items:center}div[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:50px;margin:0}"]}),e})(),B=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["accountancy-invoices"]],decls:8,vars:0,consts:[[1,"container"],[1,"statistics"],[1,"list"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"accountancy-invoices-amount")(3,"accountancy-invoices-money")(4,"accountancy-invoices-clients")(5,"accountancy-invoices-days"),t.qZA(),t.TgZ(6,"div",2),t._UZ(7,"accountancy-invoices-list"),t.qZA()())},dependencies:[Z,x,_,Y,w],styles:[".container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;gap:10px}.container[_ngcontent-%COMP%]   .statistics[_ngcontent-%COMP%]{display:flex;gap:10px;width:100%;height:25%}.container[_ngcontent-%COMP%]   .statistics[_ngcontent-%COMP%]   accountancy-invoices-clients[_ngcontent-%COMP%]{width:25%}.container[_ngcontent-%COMP%]   .statistics[_ngcontent-%COMP%]   accountancy-invoices-amount[_ngcontent-%COMP%]{width:calc(25% - 10px)}.container[_ngcontent-%COMP%]   .statistics[_ngcontent-%COMP%]   accountancy-invoices-money[_ngcontent-%COMP%]{width:calc(25% - 10px)}.container[_ngcontent-%COMP%]   .statistics[_ngcontent-%COMP%]   accountancy-invoices-days[_ngcontent-%COMP%]{width:calc(25% - 10px)}.container[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{height:calc(75% - 10px)}"]}),e})(),Q=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.ez,A.Bz.forChild([{path:"",component:B}]),M.Qm]}),e})()}}]);