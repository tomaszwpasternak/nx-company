"use strict";(self.webpackChunkaccountancy=self.webpackChunkaccountancy||[]).push([[605],{6605:(ot,O,i)=>{i.d(O,{m1:()=>tt});var P=i(5592),z=i(7394),R=i(1954);let v,T=1;const f={};function I(s){return s in f&&(delete f[s],!0)}const H={setImmediate(s){const t=T++;return f[t]=!0,v||(v=Promise.resolve()),v.then(()=>I(t)&&s()),t},clearImmediate(s){I(s)}},{setImmediate:F,clearImmediate:D}=H,p={setImmediate(...s){const{delegate:t}=p;return(t?.setImmediate||F)(...s)},clearImmediate(s){const{delegate:t}=p;return(t?.clearImmediate||D)(s)},delegate:void 0};var M=i(2631);const g=new class K extends M.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let o;t=t||n.shift();do{if(o=t.execute(t.state,t.delay))break}while((t=n[0])&&t.id===e&&n.shift());if(this._active=!1,o){for(;(t=n[0])&&t.id===e&&n.shift();)t.unsubscribe();throw o}}}(class L extends R.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t._scheduled||(t._scheduled=p.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,n=0){var o;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(t,e,n);const{actions:r}=t;null!=e&&(null===(o=r[r.length-1])||void 0===o?void 0:o.id)!==e&&(p.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});var m=i(7328),$=i(7258),j=i(2096),x=i(2381),N=i(6232),Q=i(8504),Y=i(5154),w=i(2572),G=i(8645),l=i(9773),U=i(3093),A=i(9397),W=i(2460),C=i(7398),X=i(6306),Z=i(8180),J=i(3997),V=i(3020),d=i(5879),B=i(1993);function y(s){return"function"==typeof s.ngrxOnStoreInit}function S(s){return"function"==typeof s.ngrxOnStateInit}const _=new d.OlP("@ngrx/component-store Initial State");let tt=(()=>{class s{constructor(e){this.destroySubject$=new m.t(1),this.destroy$=this.destroySubject$.asObservable(),this.stateSubject$=new m.t(1),this.isInitialized=!1,this.state$=this.select(n=>n),this.state=(0,B.O4)(this.stateSubject$.pipe((0,l.R)(this.destroy$)),{requireSync:!1,manualCleanup:!0}),this.\u0275hasProvider=!1,e&&this.initState(e),this.checkProviderForHooks()}ngOnDestroy(){this.stateSubject$.complete(),this.destroySubject$.next()}updater(e){return n=>{let r,o=!0;const c=((0,$.b)(n)?n:(0,j.of)(n)).pipe((0,U.Q)(x.N),(0,A.b)(()=>this.assertStateIsInitialized()),(0,W.M)(this.stateSubject$),(0,C.U)(([u,h])=>e(h,u)),(0,A.b)(u=>this.stateSubject$.next(u)),(0,X.K)(u=>o?(r=u,N.E):(0,Q._)(u)),(0,l.R)(this.destroy$)).subscribe();if(r)throw r;return o=!1,c}}initState(e){(0,Y.x)([e],x.N).subscribe(n=>{this.isInitialized=!0,this.stateSubject$.next(n)})}setState(e){"function"!=typeof e?this.initState(e):this.updater(e)()}patchState(e){const n="function"==typeof e?e(this.get()):e;this.updater((o,r)=>({...o,...r}))(n)}get(e){let n;return this.assertStateIsInitialized(),this.stateSubject$.pipe((0,Z.q)(1)).subscribe(o=>{n=e?e(o):o}),n}select(...e){const{observablesOrSelectorsObject:n,projector:o,config:r}=function et(s){const t=Array.from(s);let n={debounce:!1,equal:(a,c)=>a===c};if(function nt(s){return typeof s.debounce<"u"||typeof s.equal<"u"}(t[t.length-1])&&(n={...n,...t.pop()}),1===t.length&&"function"!=typeof t[0])return{observablesOrSelectorsObject:t[0],projector:void 0,config:n};const o=t.pop();return{observablesOrSelectorsObject:t,projector:o,config:n}}(e);return(function st(s,t){return Array.isArray(s)&&0===s.length&&t}(n,o)?this.stateSubject$:(0,w.a)(n)).pipe(r.debounce?function q(){return s=>new P.y(t=>{let e,n;const o=new z.w0;return o.add(s.subscribe({complete:()=>{e&&t.next(n),t.complete()},error:r=>{t.error(r)},next:r=>{n=r,e||(e=g.schedule(()=>{t.next(n),e=void 0}),o.add(e))}})),o})}():s=>s,o?(0,C.U)(c=>n.length>0&&Array.isArray(c)?o(...c):o(c)):s=>s,(0,J.x)(r.equal),function k(s,t,e){let n,o=!1;return s&&"object"==typeof s?({bufferSize:n=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:e}=s):n=s??1/0,(0,V.B)({connector:()=>new m.t(n,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}({refCount:!0,bufferSize:1}),(0,l.R)(this.destroy$))}selectSignal(...e){const n=[...e],o=(h,b)=>h===b,r="object"==typeof n[e.length-1]?{equal:n.pop().equal||o}:{equal:o},a=n.pop(),c=n;return(0,d.Flj)(0===c.length?()=>a(this.state()):()=>{const h=c.map(b=>b());return a(...h)},r)}effect(e){const n=new G.x;return e(n).pipe((0,l.R)(this.destroy$)).subscribe(),o=>((0,$.b)(o)?o:(0,j.of)(o)).pipe((0,l.R)(this.destroy$)).subscribe(a=>{n.next(a)})}checkProviderForHooks(){g.schedule(()=>{if((0,d.X6Q)()&&(y(this)||S(this))&&!this.\u0275hasProvider){const e=[y(this)?"OnStoreInit":"",S(this)?"OnStateInit":""].filter(n=>n);console.warn(`@ngrx/component-store: ${this.constructor.name} has the ${e.join(" and ")} lifecycle hook(s) implemented without being provided using the provideComponentStore(${this.constructor.name}) function. To resolve this, provide the component store via provideComponentStore(${this.constructor.name})`)}})}assertStateIsInitialized(){if(!this.isInitialized)throw new Error(`${this.constructor.name} has not been initialized yet. Please make sure it is initialized before updating/getting.`)}}return s.\u0275fac=function(e){return new(e||s)(d.LFG(_,8))},s.\u0275prov=d.Yz7({token:s,factory:s.\u0275fac}),s})()}}]);